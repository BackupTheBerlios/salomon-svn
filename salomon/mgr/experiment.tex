\section{Opis eksperymentu}

Celem eksperymentu jest zademonstrowanie mo¿liwoœci platformy jako œrodowiska,
które nadzoruje obliczenia uczenia maszynowego w oparciu o dostarczone wtyczki.

Przyk³adowe zadanie obliczeniowe ma na celu utworzenie drzewa decyzyjnego
w oparciu o zbiór atrybutów. Atrybuty te definiuj¹ w jaki sposób interpretowany
ma byæ zbiór danych testowych. Zbiór danych budowany jest w oparciu o dane
przechowywane w zewnêtrznym Ÿródle danych.

Model obliczeñ, który wspiera plaftorma zak³ada du¿¹ granulacjê zadañ.
Powy¿sze zadanie obliczeniowe mog³oby byæ wykonane przez pojedyncz¹ wtyczkê,
która na wejœciu wymaga³aby zdefiniowania zbioru danych i atrybutów,
a na wyjœciu zaprezentowa³aby wygenerowane drzewo.
Taka wtyczka by³aby jednak dosyæ skomplikowana i jej wykorzystanie ograniczone
by³oby tylko do tego typu zadañ.
Podzielenie ca³ego zadania na mniejsze etapy i wykonanie ka¿dego z nich przez
osobn¹ wtyczkê pozwala nie tylko na wielokrotne wykorzystanie wtyczek do ró¿nych
celów, ale tak¿e na wymianê wtyczek odpowiedzialnych za poszczególne
etapy (np. zmianê algorytmu generuj¹cego drzewo decyzyjne).

Podzia³ eksperymentu na etapy zaprezentowany zosta³ na rysunku (TODO: ref).

%TODO: zrobic taki rysunek

Poszczególne etapy eksperymentu to:
\begin{enumerate}
	\item Zdefiniowanie zbioru danych. \\
	Celem tego etapu jest wygenerowanie zbioru danych w oparciu
	o podane przez u¿ytkownika kryteria. Zbiór danych wykorzystuje
	dane przechowywane w zewnêtrznym Ÿródle danych.
	\item Zdefiniowanie zbioru atrybutów. \\
	Po wygenerowaniu zbioru danych tworzony jest zbiór atrybutów,
	na których dzia³a algorytm buduj¹cy drzewo decyzyjne.
	\item Wygenerowanie drzewa decyzyjnego. \\
	Etap ten ma za zadanie wygenerowaæ drzewo decyzyjne na podstawie
	utworzonego wczeœniej zbioru atrybutów.
	\item Wizualizacja drzewa decyzjnego. \\
	Poprzedni etap tylko tworzy i zapisuje drzewo decyzyjne, 
	które mo¿e zostaæ wykorzystane w dowolny sposób.
	Ten etap eksperymentu jedynie prezentuje u¿ytkownikowi wygenerowane
	wczeœniej drzewo w postaci graficznej.
\end{enumerate}

\section{Wykorzystane wtyczki}

\subsection{Definiowanie zbioru danych}

Testowy zbiór danych definiowany jest za pomoc¹ wtyczki \emph{RandomDataSetCreator}.
Wtyczka ta pozwala na wygenerowanie losowego zbioru danych.
Konfiguracja wtyczki polega na wybraniu tabel z zewnêtrznego Ÿród³a danych,
na którym bazowaæ ma zbiór danych oraz okreœlenia, ile wierszy z poszczególnych
tabel ma zostaæ do³¹czone do testowego zbioru danych (Rys \ref{fig:random_data_set_settings}).

\begin{figure}[!hb]
	\centering
		\includegraphics[scale=0.60]{img/experiment/random_dataset_settings.png}
	\caption{Konfiguracja losowego zbioru danych}
	\label{fig:random_data_set_settings}
\end{figure}

Prostota u¿ycia tej wtyczki okupiona zosta³a niewielkimi jej mo¿liwoœciami.
Du¿o wiêksze mo¿liwoœci konfiguracyjne zapewnia wtyczka \emph{DataSetCreator}.
Posiada ona podobny graficzny interfejs u¿ytkownika, ale pozwala na du¿o dok³adniejsze
okreœlenie warunków, jakie spe³niaæ maj¹ dane, które trafi¹ do testowego zbioru danych (Rys \ref{fig:data_set_settings}).

\begin{figure}[!hb]
	\centering
		\includegraphics[scale=0.50]{img/experiment/dataset_settings.png}
	\caption{Okreœlanie dok³adnych kryteriów przy tworzeniu zbioru danych}
	\label{fig:data_set_settings}
\end{figure}

Dodatkow¹ jej zalet¹ jest to, ¿e wtyczka ta w znacznie wiêkszym stopniu ni¿ \emph{RandomDataSetCreator}
uwzglêdnia zmiany w Ÿródle danych. Pierwsza wtyczka reaguje tylko na zmianê poszczególnych
kolumn w wylosowanych do zbioru danych rekordach, nie mo¿e siê jednak zmieniæ ich iloœæ.
Wtyczka \emph{DataSetCreator} uruchamiana wielokrotnie z t¹ sam¹ konfiguracj¹
mo¿e pracowaæ na ró¿nej iloœci danych, zale¿nie od tego, ile rekordów spe³nia
zadane kryteria w momencie jej uruchomienia.
Pozwala to na przeprowadzanie ekperymentów na zmieniaj¹cych siê danych i przyk³adowo
na obserwacjê, jak iloœæ danych wp³ywa na dok³adnoœæ obliczeñ.

Wynikiem pracy obu wtyczek jest zbiór danych, którego definicja sk³adowana jest
w wewnêtrznej bazie systemu.

\subsection{Definiowanie zbioru atrybutów}
Algorytmy generowania drzew decyzyjnych pracuj¹ na specjalnie
przygotowanych danych -- atrybutach. Atrybuty okreœlaj¹ pewne cechy 
danych wejœciowych i w przyjêtym w systemie podejœciu (\ref{lab:knowledge})
bazuj¹ na zbiorach danych. St¹d wtyczka tworz¹ca zbiór atrybutów -- \emph{AttribiteSetCreator},
który s³u¿y do generowania drzewa decyzyjnego, operuje na tym samym Ÿródle danych,
co wtyczka tworz¹ca zbiór danych.

\begin{figure}[!hb]
	\centering
		\includegraphics[scale=0.50]{img/experiment/attrset_settings.png}
	\caption{Konfiguracja zbioru atrybutów}
	\label{fig:attrset_settings}
\end{figure}

Wtyczka ta pozwala na okreœlenie, które cechy obiektów znajduj¹cych siê
w zbiorze danych, maj¹ byæ brane pod uwagê podczas budowy drzewa decyzyjnego.
Nale¿y okreœliæ typ atrybutów (liczbowy, napisowy, wyliczeniowy) oraz to,
czy dany atrybut jest atrybutem wejœciowym (wp³ywaj¹cym na decyzjê),
czy wyjœciowym (okreœlaj¹cym decyzjê).

Efektem uruchomienia wtyczki jest utworzenie i zesk³adowanie zbioru atrybutów,
odpowiadaj¹cego podanej konfiguracji.

\subsection{Generowanie drzewa decyzyjnego}

Do generacji drzew decyzyjnych wykorzystane algorytmy dostarczane wraz z 
\emph{Weka}. W tym celu w ramach platformy zosta³ napisany modu³ dostarczaj¹cy wsparcie dla 
Weki oraz wtyczka, która korzystaj¹c z tego modu³u pozwala na wybór algorytmu, 
uruchomienie go i zapisanie wyniku w formacie \emph{Salomona}. \emph{Salomon} posiada w³asne 
\emph{API} przeznaczone do operacji na drzewach. S³u¿y do tego g³ównie interfejs 
\emph{ITreeManager}.(zapis, odczyt, modyfikacja itd.). Modu³ wspieraj¹cy Weke ma za 
zadanie nie tylko t³umaczyæ drzewa decyzyjne do wewnêtrznego formatu Salomona, 
ale równie¿ konwertowaæ atrybuty z formatu \emph{Salomona} do postaci zgodnej z \emph{Weka}. 
\emph{Weka} dostarczana jest jako dodatkowy plik 'weka.jar'. \emph{Weka} posiada bardziej 
restrykcyjn¹ licencje (\emph{GPL}), co powoduje, i¿ Salomon dystrybuowany wraz z 
integracj¹ musi byæ wykorzystywany zgodnie z zasadami tej licencji.

Dla celów eksperymentu zosta³a napisana wtyczka \emph{WekaTreeGenerator}, która 
korzystaj¹c z wczeœniej omówionego modu³u integracji w \emph{Weka}, generuje drzewo 
decyzyjne i zapisuje go do bazy.

Konfiguracja sk³ada siê z:
\begin{enumerate}
  \item wyboru algorytmu –- w eksperymencie zosta³ u¿yty algorytm \emph{J48}
  \item wybór atrybutów -- opis danych
  \item danych wejœciowych dla algorytmu
  \item nazwy pod która zostanie zapisane nowo utworzone drzewo decyzyjne
\end{enumerate}

\begin{figure}[H]
	\centering
		\includegraphics[scale=0.60]{img/experiment/tree_generator_settings.png}
	\caption{Konfiguracja generacji drzewa decyzyjnego}
	\label{fig:tree_generator_settings}
\end{figure}

Wtyczka korzystaj¹c z danych trenuj¹cych (\emph{DataSet}) oraz opisu atrybutów 
(\emph{AttributeSet}) transformuje dane (\emph{DataSet}) z wejœciowej bazy dany do postaci 
zrozumia³ej przez algorytm. Na koñcu wyniki uruchomienia Weki przekszta³cany 
jest do wewnêtrznej reprezentacji drzewa decyzyjnego, u¿ywanego przez \emph{Salomona}.

\emph{Weka} zwraca drzewo w formie tekstowej. Opis ten mo¿na zobaczyæ w otwieraj¹c 
okno rezultatu dla omawianej wtyczki (rys)

\begin{figure}[H]
	\centering
		\includegraphics[scale=0.60]{img/experiment/tree_generator_results.png}
	\caption{Konfiguracja losowego zbioru danych}
	\label{fig:tree_generator_results}
\end{figure}

\subsection{Wizualizacja drzewa decyzjnego}
Ostatnim etapem eksperymentu jest wizualizacja nowo powsta³ego drzewa. W tym 
celu zosta³a napisana wtyczka \emph{TreeVis}, która tworzy graficzn¹ reprezentacje 
drzewa decyzyjnego. W ustawianiach dla wtyczki podajemy nazwê drzewa,  które 
chcemy z wizualizowaæ. Po uruchomieniu mo¿emy obejrzeæ drzewo w postaci grafu. 
Do wizualizacji zosta³a u¿yta biblioteka (\emph{Jung}). Przy ka¿dym wêŸle drzewa 
wyœwietlana jest nazwa atrybutu. Na ka¿dej z krawêdzi przypisana jest wartoœæ 
atrybutu rodzica, która powoduje przejœcie do wêz³a potomnego. Dla liœci drzewa 
oprócz nazwy atrybutu wyœwietlana jest równie¿ jego wartoœæ.

\begin{figure}[H]
	\centering
		\includegraphics[scale=0.60]{img/experiment/tree_vis_settings.png}
	\caption{Konfiguracja wtyczki wizualizuj¹cej drzewo decyzyjne}
	\label{fig:tree_vis_settings}
\end{figure}

\begin{figure}[H]
	\centering
		\includegraphics[scale=0.60]{img/experiment/tree_vis_results.png}
	\caption{Wizualizacja drzewa decyzyjnego}
	\label{fig:tree_vis_results}
\end{figure}


\section{Wyniki eksperymentu}
% - screen z przebiegu
% - opis wynikow (z narysowaniem drzewa)
% - udalo sie zrealizowac cele (uzycie roznych wtyczek i skonfigurowanie ich tak, by uzyskac jakis tam wynik)

