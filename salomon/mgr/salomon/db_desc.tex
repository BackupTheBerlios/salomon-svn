\section{Opis bazy danych}

W systemie bardzo wa¿n¹ rolê odgrywaj¹ baza danych
w której przechowywane s¹ ustawienia, projekty, regu³y itp.
Poni¿sza struktura dotyczy tylko organizacji danych wykorzystywanych do przetwarzania wiedzy. 
Rzeczywiste dane, na podstawie których wiedza ta jest tworzona przechowywana 
jest w osobnych bazach danych i dane te nie s¹ kopiowane do bazy \emph{Salomona}.

\subsection{Struktura platformy}

Dane zosta³y zorganizowane w nastêpuj¹cych tabelach:

\subsubsection{Solutions}

Tabela reprezentuje obiekty \emph{Solution}, które grupuj¹ projekty dotycz¹ce tej samej tematyki i operuj¹ na tej samej bazie danych.

\begin{itemize}
		\item \emph{solution\_id} -- identyfikator obiektu \emph{solution}
		\item \emph{solution\_name} -- nazwa		
		\item \emph{solution\_info} -- dodatkowy opis
		\item \emph{hostname} -- host, na którym znajduje siê baza danych
		\item \emph{db\_path} -- œcie¿ka do pliku bazy danych na serwerze
		\item \emph{username} -- nazwa u¿ytkownika u¿ywanego do po³¹czenia z baz¹ danych
		\item \emph{passwd} -- has³o potrzebne do zalogowania siê
		\item \emph{lm\_date} -- data ostatniej modyfikacji
\end{itemize}

\subsubsection{Projects}

Tabela zawiera nag³ówki projektów, do których odnosz¹ siê rekordy
z tabeli \emph{Tasks}.

\begin{itemize}
    \item \emph{project\_id} -- identyfikator projektu
    \item \emph{solution\_id} -- powi¹zanie z tabel¹ \emph{solutions}
    \item \emph{project\_name} -- nazwa
    \item \emph{project\_info} -- dodatkowy opis
    \item \emph{env} -- reprezentuje œrodowisko, za pomoc¹ którego przekazywane s¹ ustawienia miêdzy poszczególnymi zadaniami
    \item \emph{lm\_date} -- data ostatniej modyfikacji
\end{itemize}

\subsubsection{Plugins}

Tabela zawiera informacje o pluginach, które mog¹ byæ wykorzystane
przez system. Przechowuje dane o ich nazwach i lokalizacjach, sk¹d
mog¹ byæ pobrane.

\begin{itemize}
    \item \emph{plugin\_id} -- identyfikator pluginu
    \item \emph{plugin\_name} -- nazwa pluginu
    \item \emph{plugin\_info} -- dodatkowy opis
    \item \emph{location} -- lokalizacja pluginu
    \item \emph{lm\_date} -- data ostatniej modyfikacji
\end{itemize}

\subsubsection{Tasks}

Tabela zawiera zapis wykonania poszczególnych zadañ. Dla ka¿dego z nich
przechowywane s¹ informacje o pluginie, który zosta³
wykorzystany do wykonania zadania; projekcie, w ramach którego
zadanie zosta³o zapisane; ustawieniach, z jakimi zosta³o wykonane;
rezultacie zadania oraz statusie, w jakim pozostaje po wykonaniu.

\begin{itemize}
    \item \emph{task\_id} -- identyfikator zadania
    \item \emph{task\_nr} -- numer zadania w kolejce do ich wykonania
    \item \emph{project\_id} -- identyfikator projektu, do którego nale¿y zadanie
    \item \emph{plugin\_id} -- identyfikator pluginu, który wykonywany jest w ramach tego zadania
    \item \emph{name} -- nazwa
    \item \emph{info} -- dodatkowy opis
    \item \emph{plugin\_settings} -- ustawienia pocz¹tkowe pluginu
    \item \emph{plugin\_result} -- rezultat dzia³ania pluginu
    \item \emph{status} -- status wykonania zadania
\end{itemize}

    Relacje miêdzy nimi zobrazowane s¹ na rysunku (Rys \ref{fig:database})

\begin{figure}[H]
	\centering
		\includegraphics[width=0.90\textwidth]{img/salomon/concept/salomon_db.png}
	\caption{Relacje miêdzy tabelami platformy}
	\label{fig:database}
\end{figure}

\subsection{Organizacja wiedzy}

\emph{Salomon} wspiera kilka rodzajów wiedzy: zbiory danych (\emph{datasets}),
atrybuty oraz drzewa decyzyjne.

\subsubsection{Datasets}

Tabela zawiera nag³ówki zbiorów danych.

\begin{itemize}
    \item \emph{dataset\_id} -- identyfikator zbioru danych
    \item \emph{solution\_id} -- powi¹zanie z tabel¹ \emph{solutions}
    \item \emph{dataset\_name} -- nazwa
    \item \emph{dataset\_info} -- dodatkowy opis
    \item \emph{lm\_date} -- data ostatniej modyfikacji
\end{itemize}

\subsubsection{Dataset\_items}

Zawiera definicje zbiorów zadañ. Zbiór danych definiowany jest
przez nazwê tabeli oraz warunki, jakie ograniczaj¹ rekordy w tej
tabeli. Tabela ta s³u¿y do przechowywania podzbioru danych pochodz¹cych z rzeczywistej bazy danych.

\begin{itemize}
    \item \emph{dataset\_item\_id} -- identyfikator elementu zbioru danych
    \item \emph{dataset\_id} -- identyfikator zbioru danych, do którego nale¿y
element
    \item \emph{table\_name} -- nazwa tabeli
    \item \emph{condition} -- warunek ograniczaj¹cy zakres danych
\end{itemize}

\subsubsection{Attributesets}

Tabela zawiera nag³ówki zbiorów atrybutów.

\begin{itemize}
    \item \emph{attributeset\_id} -- identyfikator zbioru atrybutów
    \item \emph{solution\_id} -- powi¹zanie z tabel¹ \emph{solutions}
    \item \emph{attributeset\_name} -- nazwa
    \item \emph{attributeset\_info} -- dodatkowy opis
    \item \emph{lm\_date} -- data ostatniej modyfikacji
\end{itemize}

\subsubsection{Attributeset\_items}

Tabela przechowuje atrybuty, nale¿¹ce do danego zbioru atrybutów.
Ka¿dy atrybut ma nazwê oraz typ. Obecnie wspierane s¹ atrybuty typu tekstowego,
numeryczne (ca³kowite i zmiennoprzecinkowe) oraz wyliczeniowe.
Dla atrybutów typu wyliczeniowego, w polu $attribute_value$ przechowywana jest
lista wartoœci, które dany atrybut mo¿e przyjmowaæ.
Atrybuty odpowiadaj¹ kolumnom z bazy danych, st¹d ka¿dy z nich przechowuje
odwolanie do kolumny w tabeli, na podstawie której zosta³ zdefiniowany. 

\begin{itemize}
  	\item \emph{attributeset\_item\_id} -- identyfikator atrybutu
    \item \emph{attributeset\_id} -- identyfikator zbioru atrybutów, do którego
    dany atrybut nale¿y
    \item \emph{solution\_id} -- powi¹zanie z tabel¹ \emph{solutions}
    \item \emph{attribute\_name} -- nazwa
    \item \emph{attribute\_type} -- typ atrybutu
	\item \emph{table\_name} -- nazwa tabeli, na podstawie której atrybut zosta³
	zdefiniowany
	\item  \emph{column\_name} -- nazwa kolumny z tej tabeli
	\item  \emph{attribute\_value} -- lista wartoœci, które atrybut mo¿e
	przyjmowaæ. Dotyczy atrybutów typu wyliczeniowego.
\end{itemize}

\subsubsection{Trees}

Tabela przechowuje nag³ówki drzew decyzyjnych. Zawiera odniesienie do zbioru
atrybutów, gdy¿ to w³aœnie na ich podstawie drzewa s¹ budowane.

\begin{itemize}
  	\item \emph{tree\_id} -- identyfikator drzewa decyzyjnego
    \item \emph{attributeset\_id} -- identyfikator zbioru atrybutów
    \item \emph{solution\_id} -- powi¹zanie z tabel¹ \emph{solutions}
    \item \emph{root\_node\_id} -- identyfikator korzenia drzewa
    \item \emph{tree\_name} -- nazwa
    \item \emph{tree\_info} -- dodatkowy opis
    \item \emph{lm\_date} -- data ostatniej modyfikacji
\end{itemize}

\subsubsection{Tree\_nodes}

Zawiera definicje wêz³ów drzewa decyzyjnego.

\begin{itemize}
  	\item \emph{node\_id} -- identyfikator wêz³a
  	\item \emph{tree\_id} -- identyfikator drzewa decyzyjnego, do którego nale¿y
    \item \emph{parent\_node\_id} -- identyfikator wêz³a rodzica (0 dla korzenia)
    \item \emph{attribute\_item\_id} -- identyfikator atrybutu, któremu wêze³ odpowiada
    \item \emph{parent\_edge\_value} -- warunek na krawêdzi prowadz¹cej do wêz³a
    \item \emph{node\_value} -- wartoœæ w wêŸle
\end{itemize}




